!function(t){var n="wizardsettings",e=function(t){var e=t.data(n);t.find(".wizard-step").hide().first().show(),t.find("button").show(),e.prevButton.prop("disabled",!0),1===e.stepCount?(e.nextButton.html(e.submitText),e.prevButton.hide()):e.nextButton.html(e.nextText),e.okButton.hide(),e.stepIndex=1,h(t),v(e.progress,1,e.stepCount),e.titleElement.html(c(t,e))},i=function(n,e){var i=t(n.find(".wizard-step")[e.stepIndex-1]),s=i.find("form");if(s.length){if(t.isFunction(s.valid)&&s.valid()===!1)return!1;if(t.isFunction(s.validate)&&s.validate()===!1)return!1}if(e.validators)for(var o=0;o<e.validators.length;o++){var a=e.validators[o];if((0===a.step||a.step===e.stepIndex)&&t.isFunction(a.validate)&&a.validate()===!1)return!1}return!0},s=function(e,s){var a=e.data(n);if(s===!0){if(i(e,a)===!1)return;if(a.stepIndex===a.stepCount)return void(t.isFunction(a.onSubmit)?a.onSubmit():o(e))}var r=a.stepIndex,u=s?a.stepIndex+1:a.stepIndex-1;if(a.stepIndex=u,u>a.stepCount||1>u);else{var d=e.find(".wizard-step");t(d[r-1]).hide(),a.titleElement.html(c(e,a)),t(d[u-1]).show(),h(e),v(a.progress,a.stepIndex,a.stepCount),1===u?a.prevButton.prop("disabled",!0):u===a.stepCount?(a.nextButton.html(a.submitText),a.prevButton.prop("disabled",!1)):(a.prevButton.prop("disabled",!1),a.nextButton.html(a.nextText))}},o=function(i){var s=i.data(n);s.isModal===!0&&i.modal("hide"),e(i),t.isFunction(s.onReset)&&s.onReset(),t.isFunction(s.onClose)&&s.onClose(),s.isModal===!1&&i.hide()},a=function(e){var i=e.data(n),s=!0;t.isFunction(i.onCancel)&&i.onCancel()===!1&&(s=!1),s&&o(e)},r=function(e){var i=e.data(n);i.isModal?e.modal({backdrop:"static",keyboard:i.showCancel}):e.show(),t.isFunction(i.onOpen)&&i.onOpen()},u=function(t,n){var e=[];return n.isModal&&e.push('<div class="modal-dialog">'),e.push(' <div class="modal-content',n.isModal?"":" wizard-nomodal",'">'),e.push('     <div class="modal-header">'),n.isModal&&n.showCancel===!0&&(e.push('     <button type="button" class="close wizard-cancel-header">'),e.push('         <span aria-hidden="true">&times;</span>'),e.push('         <span class="sr-only">Close</span>'),e.push("     </button>")),e.push('         <h4 class="modal-title wizard-title">',c(t,n),"</h4>"),e.push("     </div>"),e.push('     <div class="modal-body wizard-body">'),n.showProgress&&e.push(l(n)),e.push('         <div class="wizard-info alert alert-info" style="display:none"></div>'),e.push('         <div class="wizard-success alert alert-success" style="display:none"></div>'),e.push('         <div class="wizard-warning alert alert-warning" style="display:none"></div>'),e.push('         <div class="wizard-error alert alert-danger" style="display:none"></div>'),e.push("     </div>"),e.push('     <div class="modal-footer wizard-footer">'),e.push(d(n)),e.push("     </div>"),e.push(" </div>"),n.isModal&&e.push("</div>"),e.join("")},d=function(t){var n=[];return t.showPrevious===!0&&n.push('<button type="button" class="btn btn-default wizard-prev">',t.previousText,"</button>"),n.push('<button type="button" class="btn btn-primary wizard-next">',t.nextText,"</button>"),t.showCancel===!0&&n.push('<button type="button" class="btn btn-default wizard-cancel">Cancel</button>'),n.push('<button type="button" class="btn btn-primary wizard-ok">OK</button>'),n.join("")},l=function(t){var n=[];return n.push('<div class="progress">'),n.push(' <div class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="1" aria-valuemin="1" aria-valuemax="10" style="width: 0%;">Progress</div>'),n.push("</div>"),n.join("")},c=function(n,e){var i=e.stepIndex?e.stepIndex:1,s=t(n.find(".wizard-step")[i-1]);return s.data("title")?s.data("title"):e.title},p=function(t,n,e){t.find("div.wizard-"+n).html(e).show()},h=function(t){t.find(".alert").html("").hide()},f=function(t,n,e){t.find(".wizard-step").hide(),t.find(".progress").hide(),e.info&&p(t,"info",e.info),e.warning&&p(t,"warning",e.warning),e.success&&p(t,"success",e.success),e.error&&p(t,"error",e.error),n.titleElement.html(n.title),n.prevButton.hide(),n.nextButton.hide(),n.cancelButton.hide(),n.okButton.show();var i=0;e.autoClose===!0?i=2e3:e.autoClose>0&&(i=e.autoClose),i>0&&window.setTimeout(function(){o(t)},i)},v=function(t,n,e){var i=parseInt(n/e*100);t.css("width",i+"%"),t.html("Step "+n+" of "+e),t.parent().show()},w={init:function(i){var d=t.extend({title:"",validators:null,onSubmit:null,onReset:null,onCancel:null,onClose:null,onOpen:null,previousText:"<< Back",nextText:"Next >>",submitText:"Submit",showCancel:!0,showPrevious:!0,showProgress:!1,isModal:!0,autoOpen:!1},i);return this.each(function(){var i=t(this);t(u(i,d)).appendTo(i),d.isModal&&(i.addClass("modal"),i.attr("tabindex","-1")),i.hide(),d.prevButton=i.find(".wizard-prev"),d.nextButton=i.find(".wizard-next"),d.cancelButton=i.find(".wizard-cancel"),d.okButton=i.find(".wizard-ok"),d.progress=i.find(".progress-bar"),d.titleElement=i.find(".wizard-title"),d.bodyHeight&&t(this).find(".wizard-body").height(d.bodyHeight),d.stepCount=i.find(".wizard-step").length,v(d.progress,1,d.stepCount),d.prevButton.click(function(){s(t(this).parents(".wizard").first(),!1)}),d.nextButton.click(function(){s(t(this).parents(".wizard").first(),!0)}),d.cancelButton.click(function(){a(t(this).parents(".wizard").first(),!0)}),d.okButton.click(function(){o(t(this).parents(".wizard").first(),!0)}),i.find(".wizard-cancel-header").click(function(){a(t(this).parents(".wizard").first())}),1===d.stepCount&&(d.nextButton.html(d.submitText),d.prevButton.hide()),i.find(".wizard-step").appendTo(i.find(".wizard-body")),i.data(n,d),e(i),d.autoOpen===!0&&r(i)})},open:function(){return this.each(function(){r(t(this))})},close:function(){return this.each(function(){o(t(this))})},info:function(n){return this.each(function(){p(t(this),"info",n)})},warning:function(n){return this.each(function(){p(t(this),"warning",n)})},success:function(n){return this.each(function(){p(t(this),"success",n)})},error:function(n){return this.each(function(){p(t(this),"error",n)})},end:function(e){var i=t.extend({info:null,warning:null,success:null,error:null,autoClose:!1},e);return this.each(function(){f(t(this),t(this).data(n),i)})}};t.fn.wizard=function(n){return w[n]?w[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?void t.error("Method "+n+" does not exist on jQuery.tooltip"):w.init.apply(this,arguments)}}(jQuery);